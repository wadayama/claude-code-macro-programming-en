# A.6監査ログシステム テストマクロ

A.6監査ログシステムのコアコンセプト確認用のシンプルなテストマクロです。
変数の複数回設定、条件判定、判断理由記録の基本機能を検証します。

## 実行手順

### ステップ1: 初期値設定
{{value}}に10を保存してください

### ステップ2: 値の更新（複数回）
{{value}}を取得してください

{{value}}に20を保存してください

「初期値10から20に更新」を判断理由「値の段階的な変更テスト」としてログに記録してください

### ステップ3: 条件判定1
{{value}}を取得してください

{{value}}が15以上の場合は{{status}}に「高」を、15未満の場合は{{status}}に「低」を保存してください

「{{value}}なので{{status}}と判定」を判断理由「15を基準とした二段階判定」としてログに記録してください

### ステップ4: 値の再更新
{{value}}に5を保存してください

「値を20から5に変更」における推論「条件判定の動作確認のため」で結果「低カテゴリのテスト実行」をログに記録してください

### ステップ5: 条件判定2（再実行）
{{value}}を取得してください

{{value}}が15以上の場合は{{status}}に「高」を、15未満の場合は{{status}}に「低」を保存してください

「{{value}}なので{{status}}に再判定」を判断理由「同一ロジックでの値変更後の判定確認」としてログに記録してください

### ステップ6: 三段階判定
{{value}}を取得してください

{{value}}の値に基づいて{{category}}を設定してください：
- 20以上: 「A」
- 10以上20未満: 「B」  
- 10未満: 「C」

「{{value}}により{{category}}カテゴリに分類」を判断理由「三段階閾値による分類ロジック」としてログに記録してください

### ステップ7: 結果表示
{{value}}、{{status}}、{{category}}を取得して結果を表示してください

## 期待される監査ログ記録

1. **変数操作ログ（7件）**:
   - {{value}} CREATE: 10
   - {{value}} UPDATE: 10→20  
   - {{status}} CREATE: 高
   - {{value}} UPDATE: 20→5
   - {{status}} UPDATE: 高→低
   - {{category}} CREATE: C

2. **判断理由ログ（4件）**:
   - 初期値更新の判断
   - 第1回条件判定の判断
   - 第2回条件判定の判断  
   - 三段階判定の判断

3. **推論プロセスログ（1件）**:
   - 値変更の推論プロセス

## 検証ポイント

- [ ] 同一変数の複数回更新が正しく記録される
- [ ] 条件判定の判断理由が構造化して保存される
- [ ] 変数履歴で変更の軌跡が追跡できる
- [ ] audit_viewer.py で全ログが確認できる
- [ ] 判定ロジックの透明性が確保される

このシンプルな構造により、監査ログシステムの基本機能が確実に検証できます。